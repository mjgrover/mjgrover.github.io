<!doctype html>
<html>
	
<head>
<meta charset="utf-8">
<title>Test Document</title>
</head>

<body>
	<style>
		body {margin: 15px;}
		div.search span, div.search input[name="keyword"] {display: block;}
		div.search input[name="keyword"] {margin-top: 4px;}
		div.panel {margin-bottom: 15px;}
		div.panel .panel-body p:last-child {margin-bottom: 0;}
		mark {padding: 0;}
	</style>
	
	
	
	<div class="container">
  
  <div class="panel panel-default">
    <div class="panel-heading">
      <form class="row" onSubmit="return false">
        <div class="col-xs-6">
          <div class="form-group">
			  
			  <style>
					.searchInput {
					  background-image: url('css/searchicon.png');
					  background-position: 10px 12px;
					  background-repeat: no-repeat;
					  width: 100%;
					  font-size: 16px;
					  padding: 12px 20px 12px 40px;
					  border: 1px solid #ddd;
					  margin-bottom: 12px;
					}
				</style>
		  
            <input class="searchInput" placeholder="Search course catalog.." type="search" value="" name="keyword" id="keyword">
          </div>
        <button type="button" class="btn btn-default btn-sm" name="perform">Search</button>
<!--
			<script>
				var input = document.getElementById("myInput");
				input.addEventListener("keyup", function(event) {
				  if (event.keyCode === 13) {
				   event.preventDefault();
				   document.getElementById("button").click();
				  }
				});
			</script>
-->
        </div>
      </form>
    </div>
    <div class="panel-body context">
      <div class="bx--col-sm-4 bx--col-lg-4">
											<div class="developer--card bx--tile ibmcode_patterns developer--darkcard">
												<a class="developer--card__block_link" href="content_wrapper.html?loc=www.ibm.com/services/learning/course/6X136G&code=6X136G" target="_blank">
												<h5 class="developer--card__type">eLearning</h5>
												<div class="developer--card__body">
													<h3 class="developer--card__title"><span>IBM Cloud Pak for Data - Foundations (V2.1.x)</span></h3>
														<p class="developer--card__description">This learning offering will tell a holistic story of Cloud Pak for Data including collaboration across an organization, which is key in this platform. Applicable to all personas. Multiple use cases will provide understanding of how organizations can benefit from Cloud Pak for Data. A variety of features will also be explored, providing students with the insight on how to use the platform.</p>
												</div>
												<div class="developer--card__bottom">
													<p><span class="developer--card__date"></span></p>
													<svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" style="will-change: transform;"><path d="M14 4l-1.1 1.1 6 6.1H2v1.6h16.9l-6 6.1L14 20l8-8z"></path></svg>
												</div>
												</a>
											</div>
										</div>
    </div>

  </div>
</div>
	
<!--	<script src="https://cdn.rawgit.com/julmot/mark.js/master/dist/jquery.mark.min.js" charset="UTF-8"></script>-->
	<script src="https://code.jquery.com/jquery-3.4.1.js"></script>
	<script src="src/jquery.mark.js"></script>

	<script>
		$(function() {
		  var $context = $(".context");
		  var $form = $("form");
		  var $button = $form.find("button[name='perform']");
		  var $input = $form.find("input[name='keyword']");

		  $button.on("click.perform", function() {

			// Determine search term
			var searchTerm = $input.val();

			// Determine options
			var options = {};
			var values = $form.serializeArray();
			/* Because serializeArray() ignores unset checkboxes */
			values = values.concat(
			  $form.find("input[type='checkbox']:not(:checked)").map(
				function() {
				  return {
					"name": this.name,
					"value": "false"
				  }
				}).get()
			);
			$.each(values, function(i, opt){
			  var key = opt.name;
			  var val = opt.value;
			  if(key === "keyword" || !val){
				return;
			  }
			  if(val === "false"){
				val = false;
			  } else if(val === "true"){
				val = true;
			  }
			  options[key] = val;
			});

			// Remove old highlights and highlight
			// new search term afterwards
			$context.unmark();
			$context.mark(searchTerm, options);

		  });
		  $button.trigger("click.perform");
		});
	</script>
	<p></p>
	<div>
        <p> *** OTHER STUFF HERE ***</p>
        <table id="gable">
            <colgroup>
                <col class="twenty" />
                <col class="fourty" />
                <col class="thirtyfive" />
                <col class="twentyfive" />
            </colgroup>
            <tr>
                <th onclick="sortTable(0)"><span class="glyphicon glyphicon-sort"></span>&nbsp&nbspCOUNTRY</th>
                <th onclick="sortTable(1)"><span class="glyphicon glyphicon-sort"></span>&nbsp&nbspLOCATION</th>
                <th onclick="sortTable(2)"><span class="glyphicon glyphicon-sort"></span>&nbsp&nbspBALANCE</th>
                <th onclick="sortTable(3)"><span class="glyphicon glyphicon-sort"></span>&nbsp&nbspDATE</th>
            </tr>
        </table>
    </div>
	<script type="text/javascript" src="example.js"></script>
    <script>
        //first add an event listener for page load
        document.addEventListener( "DOMContentLoaded", get_json_data, false ); // get_json_data is the function name that will fire on page load

        //this function is in the event listener and will execute on page load
        function get_json_data(){
            // Relative URL of external json file
            var json_url = "example.js";

            //Build the XMLHttpRequest (aka AJAX Request)
            xmlhttp = new XMLHttpRequest();
            xmlhttp.onreadystatechange = function() { 
                if (this.readyState == 4 && this.status == 200) {//when a good response is given do this

                    var data = JSON.parse(this.responseText); // convert the response to a json object
                    append_json(data);// pass the json object to the append_json function
                }
            }
            //set the request destination and type
            xmlhttp.open("POST", json_url, true);
            //set required headers for the request
            xmlhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
            // send the request
            xmlhttp.send(); 
			// when the request completes it will execute the code in onreadystatechange section
        }

        //this function appends the json data to the table 'gable'
        function append_json(data){
            var table = document.getElementById('gable');
            data.forEach(function(object) {
                var tr = document.createElement('tr');
                tr.innerHTML = '<td>' + object.COUNTRY + '</td>' +
                '<td>' + object.LoC + '</td>' +
                '<td>' + object.BALANCE + '</td>' +
                '<td>' + object.DATE + '</td>';
                table.appendChild(tr);
            });
        }
    </script>
	
	<p></p>
	<p></p>
<!--
	<p id="demo">Demo 1</p>

	<script>
	var txt = '{"name":"John", "age":30, "city":"New York"}'
	var obj = JSON.parse(txt);
	document.getElementById("demo").innerHTML = obj.name + ", " + obj.age;
	</script>
-->
	
	<p>Demo 1:</p>
	<p id="demo"></p>

	<script type="text/javascript" src="json_demo.txt"></script>
	<script>
	var xmlhttp = new XMLHttpRequest();
	xmlhttp.onreadystatechange = function() {
	  if (this.readyState == 4 && this.status == 200) {
		var myObj = JSON.parse(this.responseText);
		document.getElementById("demo").innerHTML = myObj.name;
	  }
	};
	xmlhttp.open("GET", "json_demo.txt", true);
	xmlhttp.send();
	</script>
	
	<p>Demo 2:</p>
	<p id="demo2"></p>

	<script type="text/javascript" src="example.txt"></script>
	<script>
	var xmlhttp = new XMLHttpRequest();
	xmlhttp.onreadystatechange = function() {
	  if (this.readyState == 4 && this.status == 200) {
		var myObj = JSON.parse(this.responseText);
		document.getElementById("demo2").innerHTML = myObj.COUNTRY;
	  }
	};
	xmlhttp.open("GET", "example.txt", true);
	xmlhttp.send();
	</script>
</body>
</html>
