<!DOCTYPE html>
<html>
 <head>
  <title>Load External File to HTML Table Using AJAX jQuery</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" />
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	  <script src="courses.js"></script>
	 <script>
		 $(document).ready(function(){
			 console.log("ready");
			 	// input format: jsonfile, targetcontainer, display_type (1 = short, 2 = include description), card segment
			    // card segment values: Cloud Pak for Data, Data Science, HDM, UGI, Watson, WFSS, AILearning
				create_card("course.json", "catalogcontainer", '2');
	 			create_card("course.json", "shortcatalog", '1');
			 	create_card("courses_master.json", "watsoncatalog", '2', 'Watson');
			 	create_card("courses_master.json", "datasciencecatalog", '2', 'Data Science');	 
			 	create_card("course.json", "testcatalog", '1');
		 });
	 </script>
	 
	 
 </head>
 <body>
  <div class="container">
   <div class="table-responsive">
    <h1 align="center">JSON File to HTML Table/Div Using AJAX jQuery</h1>
    <br />
<!--
    <div align="center">
     <button type="button" name="load_data" id="load_data" class="btn btn-info">Load Employee Data-CSV</button>
	 <button type="button" name="load_coursedata" id="load_coursedata" class="btn btn-info">Load Course Data-CSV</button>
	 <button type="button" name="load_jsondata" id="load_jsondata" class="btn btn-info">Load Course Data-JSON</button>
    </div>
	   
    <br />
    <div id="employee_table"></div>
	<div id="course_table"></div>
-->
<!--	<div id="json_table"></div>-->
	   <h1>Catalog with Description</h1>
	   <table class="table table-bordered table-striped" id="json_table">
		   <tr>
			   <th>Learning Type</th>
			   <th>Course Title</th>
			   <th>Description</th>
		   </tr>
	   </table>
	   <br>
	   <h1>Catalog without Description</h1>
	   <table class="table table-bordered table-striped" id="json2_table">
		   <tr>
			   <th>Learning Type</th>
			   <th>Course Title</th>
		   </tr>
	   </table>
	   <br>
	   <h1>Catalog limited to segment = Watson</h1>
	   <table class="table table-bordered table-striped" id="json3_table">
		   <tr>
			   <th>Learning Type</th>
			   <th>Course Title</th>
		   </tr>
	   </table>
	   <br>
<!--
	   <h1>Sample of manually created Div Catalog Item</h1>
	   <div class="bx--col-sm-4 bx--col-lg-4">
			<div class="developer--card bx--tile ibmcode_series developer--darkcard">
				<a class="developer--card__block_link" href="content_wrapper.html?loc=www.ibm.com/services/learning/course/0A039G&code=0A039G" target="_blank">
				<h5 class="developer--card__type">eLearning</h5>
				<div class="developer--card__body">
					<h3 class="developer--card__title"><span>Advanced Machine Learning Models Using IBM SPSS Modeler (V18.2)</span></h3>
					<p class="developer--card__description">This course presents advanced models available in IBM SPSS Modeler. The participant is first introduced to a technique named PCA/Factor, to reduce the number of fields to a number of core factors, referred to as components or factors. The next topics focus on supervised models, including Support Vector Machines, Random Trees, and XGBoost. Methods are reviewed on how to analyze text data, combine individual models into a single model, and how to enhance the power of IBM SPSS Modeler by adding external models, developed in Python or R, to the Modeling palette.</p>
				</div>
				<div class="developer--card__bottom">
					<p><span class="developer--card__date"></span></p>
					<svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" style="will-change: transform;"><path d="M14 4l-1.1 1.1 6 6.1H2v1.6h16.9l-6 6.1L14 20l8-8z"></path></svg>
				</div>
				</a>
			</div>
		</div>
-->
	   <br>
	   <div id="catalogcontainer">
		   <h1>Catalog Container</h1>   
		</div>
<!--	    <script src="courses.js"></script>-->
	   
<!--
		<script>$(document).ready(function(){
				create_card("course.json", "catalogcontainer", '2') });</script>
-->
<!--	   <script>window.onload = create_card("course.json", "catalogcontainer", '2');</script>-->
	   
	   <p></p>
	   <div id="shortcatalog">
	   		<h1>Short Catalog</h1>
	   </div>
	    
<!--		<script>window.onload = create_card("course.json", "shortcatalog", '1');</script>-->
	   
	   <p></p>
	   <div id="watsoncatalog">
	   		<h1>Watson Catalog</h1>
	   </div>
	   
	   <p></p>
	   <div id="datasciencecatalog">
	   		<h1>Data Science Catalog</h1>
	   </div>
	   
	   <p></p>
	   <div id="testcatalog">
	   		<h1>Test Catalog</h1>
	   </div>
	    
<!--		<script>window.onload = create_card("course.json", "2ndlong", '2');</script>-->
	   
   </div>
  </div>
 </body>
</html>

<!--CSV Employee-->
<script>
$(document).ready(function(){
 $('#load_data').click(function(){
  $.ajax({
   url:"employee.csv",
   dataType:"text",
   success:function(data)
   {
    var employee_data = data.split(/\r?\n|\r/);
    var table_data = '<table class="table table-bordered table-striped">';
    for(var count = 0; count<employee_data.length; count++)
    {
     var cell_data = employee_data[count].split(",");
     table_data += '<tr>';
     for(var cell_count=0; cell_count<cell_data.length; cell_count++)
     {
      if(count === 0)
      {
       table_data += '<th>'+cell_data[cell_count]+'</th>';
      }
      else
      {
       table_data += '<td>'+cell_data[cell_count]+'</td>';
      }
     }
     table_data += '</tr>';
    }
    table_data += '</table>';
    $('#employee_table').html(table_data);
   }
  });
 });
 
});
</script>

<!--CSV - Course-->
<script>
$(document).ready(function(){
 $('#load_coursedata').click(function(){
  $.ajax({
   url:"course.csv",
   dataType:"text",
   success:function(data)
   {
    var course_data = data.split(/\r?\n|\r/);
    var table_data = '<table class="table table-bordered table-striped">';
    for(var count = 0; count<course_data.length; count++)
    {
     var cell_data = course_data[count].split("^");
     table_data += '<tr>';
     for(var cell_count=0; cell_count<cell_data.length; cell_count++)
     {
      if(count === 0)
      {
       table_data += '<th>'+cell_data[cell_count]+'</th>';
      }
      else
      {
       table_data += '<td>'+cell_data[cell_count]+'</td>';
      }
     }
     table_data += '</tr>';
    }
    table_data += '</table>';
    $('#course_table').html(table_data);
   }
  });
 });
 
});
</script>

<!--JSON Course-->
<script>
$(document).ready(function(){
 $.getJSON("course.json", function(data){
		   var course_data = '';
		   $.each(data, function(key, value){
	 course_data += '<tr>';
	 course_data += '<td>'+value.learning_type+'</td>';
	 course_data += '<td>'+value.course_title+'</td>';
	 course_data += '<td>'+value.description+'</td>';
	 course_data += '</tr>';
 });
	$('#json_table').append(course_data);
});
	});
</script>

<!--JSON without Description-->
<script>
$(document).ready(function(){
 $.getJSON("course.json", function(data){
		   var course_data = '';
		   $.each(data, function(key, value){
	 course_data += '<tr>';
	 course_data += '<td>'+value.learning_type+'</td>';
	 course_data += '<td>'+value.course_title+'</td>';
	 course_data += '</tr>';
 });
	$('#json2_table').append(course_data);
});
	});
</script>

<!--JSON segmented by Watson-->
<script>
$(document).ready(function(){
 $.getJSON("course.json", function(data){
		   var course_data = '';
	 	   var destination_table = '#json3_table';
	 	   var segment_value = 'Watson';
		   $.each(data, function(key, value){
			   if (value.segment == segment_value){
	 course_data += '<tr>';
	 course_data += '<td>'+value.learning_type+'</td>';
	 course_data += '<td>'+value.course_title+'</td>';
	 course_data += '</tr>';
				   }
 });
	$(destination_table).append(course_data);
});
	});
</script>


<!--

<script src="courses.js"></script>
<script>
	$(document).ready(function(){
//	useage: Jsonfile, div location, display_type (1 = short, 2 = full)	
		create_card("course.json", "catalogcontainer", '2');	
		
});
</script>
-->
<!--<script src="courses.js">var json_file = "course.json"; var container="catalogcontainer"; var display_type='1';</script>-->


